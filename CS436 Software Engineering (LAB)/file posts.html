<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File Posts </title>
    <style>
        
        :root {
            --apple-black: #1d1d1f;
            --apple-gray: #6e6e73;
            --apple-light-gray-bg: #f5f5f7;
            --apple-blue: #0066cc;
            --apple-white: #ffffff;
            --apple-border: #d2d2d7;
        }

        body {
            /* 1. Typography: ใช้ฟอนต์ San Francisco บน Apple devices */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            background-color: var(--apple-white);
            color: var(--apple-black);
            -webkit-font-smoothing: antialiased; /* ทำให้ฟอนต์คมชัดบน WebKit */
            moz-osx-font-smoothing: grayscale;
        }
        
        .main-container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
        }

        h1 {
            font-size: 2.5rem; /* 40px */
            font-weight: 600;
            text-align: center;
            margin: 30px 0;
            letter-spacing: -0.01em;
        }
        
        /* --- 2. Navigation Bar (Horizontal Scroll Carousel) --- */
        nav {
            border-bottom: 1px solid var(--apple-border);
            overflow-x: auto; /* ทำให้เลื่อนแนวนอนได้ */
            white-space: nowrap; /* ไม่ให้ปุ่มตกบรรทัด */
            padding: 0 10px;
            
            /* ซ่อน scrollbar (เทคนิคมาตรฐาน) */
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        nav::-webkit-scrollbar {
            display: none; /* Chrome, Safari */
        }

        .nav-scroller {
            display: flex; /* ใช้ flex เพื่อจัดเรียงปุ่มแนวนอน */
            justify-content: center; /* จัดกลาง (สำหรับจอใหญ่) */
            padding: 10px 0;
        }

        .nav-button {
            display: inline-block;
            padding: 10px 16px;
            font-size: 0.9rem; /* 14px */
            font-weight: 600;
            color: var(--apple-gray); /* สีเทาสำหรับปุ่มปกติ */
            background-color: transparent;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: color 0.3s ease;
            text-decoration: none;
            flex-shrink: 0; /* ไม่ให้ปุ่มย่อตัว */
        }
        .nav-button:hover {
            color: var(--apple-black);
        }
        .nav-button.active {
            /* ปุ่มที่ถูกเลือกเป็นสีดำและหนาขึ้น */
            color: var(--apple-black);
            font-weight: 700;
            /* Apple มักใช้ pill-shape bg หรือแค่เปลี่ยนสี */
            /* เราจะใช้แค่เปลี่ยนสีเพื่อให้ดูมินิมอล */
        }

        /* --- Content Area --- */
        #loading-message {
            text-align: center;
            font-size: 1.1rem;
            color: var(--apple-gray);
            padding: 60px 0;
        }

        /* --- 3. Card Layout & Styling --- */
        .item-list {
            display: grid;
            /* Responsive Grid: 
               - จอเล็ก: 1 คอลัมน์ (min 300px)
               - จอใหญ่: 2-3 คอลัมน์ (1fr) 
            */
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px; /* เว้นวรรคระหว่าง Card */
            padding-top: 20px;
        }

        .item-card {
            /* ใช้พื้นหลังเทาอ่อน ตัดกับพื้นหลังขาว (Flat Design) */
            background-color: var(--apple-light-gray-bg);
            border-radius: 12px; /* ขอบมนสไตล์ Apple */
            padding: 24px; /* เพิ่มพื้นที่ว่างภายใน Card */
            overflow-wrap: break-word;
            transition: transform 0.3s ease;
        }
        .item-card:hover {
            transform: scale(1.02); /* Effect เล็กน้อยตอน hover */
        }

        .item-card h2 {
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.3rem; /* 21px */
            font-weight: 600;
            color: var(--apple-black);
            text-transform: capitalize;
        }
        .item-card h3 {
            margin-top: 0;
            margin-bottom: 5px;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--apple-black);
        }
        .item-card p {
            margin: 5px 0;
            line-height: 1.5;
            font-size: 0.95rem; /* 15px */
            color: var(--apple-black);
        }
        .item-card a {
            /* 4. Apple Blue Links */
            color: var(--apple-blue);
            text-decoration: none;
            font-weight: 500;
        }
        .item-card a:hover {
            text-decoration: underline;
        }
        .item-card small {
            color: var(--apple-gray);
            font-size: 0.85rem;
        }

        /* --- พิเศษสำหรับ Photos --- */
        .photo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            padding-top: 20px;
        }
        .photo-card {
            background-color: var(--apple-light-gray-bg);
            border-radius: 12px;
            overflow: hidden; /* ซ่อนส่วนที่ล้น */
            text-align: left;
            font-size: 0.8rem;
            transition: transform 0.3s ease;
        }
        .photo-card:hover {
            transform: scale(1.03);
        }
        .photo-card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            display: block;
        }
        .photo-card p {
            padding: 12px;
            margin: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: var(--apple-black);
            font-size: 0.85rem;
        }

        /* --- พิเศษสำหรับ Todos --- */
        .todo-item {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: default;
        }
        .todo-item input {
            width: 1.3rem;
            height: 1.3rem;
            accent-color: var(--apple-blue); /* สี checkbox */
        }
        .todo-item label {
            font-size: 0.95rem;
        }
        .todo-item label.completed {
            text-decoration: line-through;
            color: var(--apple-gray);
        }

    </style>
</head>
<body>

    <nav id="navigation">
        <div class="nav-scroller">
            <button class="nav-button" data-endpoint="posts">Posts</button>
            <button class="nav-button" data-endpoint="comments">Comments</button>
            <button class="nav-button" data-endpoint="albums">Albums</button>
            <button class="nav-button" data-endpoint="photos">Photos</button>
            <button class="nav-button" data-endpoint="todos">Todos</button>
            <button class="nav-button" data-endpoint="users">Users</button>
        </div>
    </nav>

    <div class="main-container">
        <h1>Data Viewer</h1>
        
        <div id="content-container">
            <p id="loading-message">กรุณาเลือกประเภทข้อมูลจากเมนูด้านบน</p>
            <div id="content-area">
                </div>
        </div>
    </div>

    <script>
        const BASE_URL = 'https://jsonplaceholder.typicode.com';
        
        const navigation = document.getElementById('navigation');
        const contentArea = document.getElementById('content-area');
        const loadingMessage = document.getElementById('loading-message');

        navigation.addEventListener('click', function(event) {
            if (event.target.tagName === 'BUTTON') {
                const endpoint = event.target.dataset.endpoint;
                
                document.querySelectorAll('.nav-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                event.target.classList.add('active');
                
                fetchAndDisplayData(endpoint);
            }
        });

        async function fetchAndDisplayData(endpoint) {
            contentArea.innerHTML = '';
            loadingMessage.textContent = `กำลังโหลดข้อมูล ${endpoint}...`;
            loadingMessage.style.display = 'block';

            if (endpoint === 'photos') {
                contentArea.className = 'photo-grid';
            } else {
                contentArea.className = 'item-list';
            }

            try {
                const response = await fetch(`${BASE_URL}/${endpoint}`);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();

                loadingMessage.style.display = 'none';

                // แสดงแค่ 100 รายการแรกสำหรับ Photos เพื่อประสิทธิภาพ
                let itemsToRender = data;
                if (endpoint === 'photos' && data.length > 100) {
                    itemsToRender = data.slice(0, 100);
                    loadingMessage.textContent = 'แสดง 100 รูปแรก จากทั้งหมด 5000 รูป';
                    loadingMessage.style.display = 'block';
                }

                itemsToRender.forEach(item => {
                    let element;
                    switch (endpoint) {
                        case 'posts':
                            element = createPostElement(item);
                            break;
                        case 'comments':
                            element = createCommentElement(item);
                            break;
                        case 'albums':
                            element = createAlbumElement(item);
                            break;
                        case 'photos':
                            element = createPhotoElement(item);
                            break;
                        case 'todos':
                            element = createTodoElement(item);
                            break;
                        case 'users':
                            element = createUserElement(item);
                            break;
                    }
                    contentArea.appendChild(element);
                });

            } catch (error) {
                console.error('Fetch error:', error);
                loadingMessage.textContent = `❌ เกิดข้อผิดพลาดในการโหลดข้อมูล: ${error.message}`;
                loadingMessage.style.color = 'red';
            }
        }

        // --- Render Functions (ปรับเล็กน้อยเพื่อใช้ Class) ---

        function createPostElement(post) {
            const div = document.createElement('div');
            div.className = 'item-card';
            div.innerHTML = `
                <h2>${post.title}</h2>
                <p>${post.body}</p>
                <small>User ID: ${post.userId}</small>
            `;
            return div;
        }

        function createCommentElement(comment) {
            const div = document.createElement('div');
            div.className = 'item-card';
            div.innerHTML = `
                <h3>${comment.name}</h3>
                <p>${comment.body}</p>
                <small>By: <a href="mailto:${comment.email}">${comment.email}</a> (Post ID: ${comment.postId})</small>
            `;
            return div;
        }

        function createAlbumElement(album) {
            const div = document.createElement('div');
            div.className = 'item-card';
            div.innerHTML = `
                <h2>${album.title}</h2>
                <small>User ID: ${album.userId}</small>
            `;
            return div;
        }

        function createPhotoElement(photo) {
            const div = document.createElement('div');
            div.className = 'photo-card';
            div.innerHTML = `
                <a href="${photo.url}" target="_blank" title="${photo.title}">
                    <img src="${photo.thumbnailUrl}" alt="${photo.title}" loading="lazy">
                </a>
                <p>${photo.title}</p>
            `;
            return div;
        }

        function createTodoElement(todo) {
            const div = document.createElement('div');
            div.className = 'item-card todo-item';
            
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.checked = todo.completed;
            checkbox.disabled = true;
            
            const label = document.createElement('label');
            label.textContent = todo.title;
            if (todo.completed) {
                label.className = 'completed'; // ใช้ class แทน inline style
            }
            
            div.appendChild(checkbox);
            div.appendChild(label);
            return div;
        }

        function createUserElement(user) {
            const div = document.createElement('div');
            div.className = 'item-card';
            div.innerHTML = `
                <h2>${user.name} (@${user.username})</h2>
                <p><strong>Email:</strong> <a href="mailto:${user.email}">${user.email}</a></p>
                <p><strong>Phone:</strong> ${user.phone}</p>
                <p><strong>Website:</strong> <a href="http://${user.website}" target="_blank">${user.website}</a></p>
                <p><strong>Address:</strong> ${user.address.street}, ${user.address.suite}, ${user.address.city}</p>
            `;
            return div;
        }
    </script>
</body>
</html>